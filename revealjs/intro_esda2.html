<!-- Copied from https://gist.github.com/aaronwolen/5017084#file-template-revealjs-html -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
 
<title>Spatial Data, Analysis, and Regression - II</title>
 
<meta name="description" content="Spatial Data, Analysis, and Regression - II">    
 
  <meta name="author" content="A mini-course" />
 
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
 
<link rel="stylesheet" href="css/reveal.min.css">
  <link rel="stylesheet" href="css/theme/journal.css" id="theme">
 
 
<!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">
 
 
<!-- If the query includes 'print-pdf', use the PDF print sheet -->
<script>
  document.write( '<link rel="stylesheet" href="css/print/' +
    ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + 
    '.css" type="text/css" media="print">' );
</script>
 
<!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->
</head>
 
<body>
 
<div class="reveal">
 
<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
 
<section>
<h1>Spatial Data, Analysis, and Regression - II</h1>
<h3>A mini-course</h3>
<p>
<h4><a href="http://darribas.org">Dani Arribas-Bel</a></h4>
</p>
</section>  
 
 
<section id="w-as-a-formal-representation-of-space" class="level1">
<h1>W as a formal representation of space</h1>
<section id="section" class="level2">
<h2></h2>
<ul>
<li><span class="math"><em>N</em></span> x <span class="math"><em>N</em></span> positive matrix that contains <strong>spatial relations</strong> between <em>all</em> the observations in the sample</li>
</ul>
<script type="math/tex; mode=display">
w_{ij} = \left\{ \begin{array}{rl}
x_{ij}>0 &\mbox{ if $i$ and $j$ are neighbors} \\
0 &\mbox{ otherwise}
\end{array} \right\}
</script>

<ul>
<li>Optional standardization
<ul>
<li>Row-wise</li>
<li>Matrix-wise</li>
<li>...</li>
</ul></li>
</ul>
</section>
<section id="section-1" class="level2">
<h2></h2>
<ul>
<li>Defined <strong>ex-ante</strong> (sometimes criticized by its <em>ad-hoc</em> nature)</li>
<li>Very often, <span class="math"><em>x</em><sub><em>i</em><em>j</em></sub></span> may follows standard <strong>criteria</strong>:
<ul>
<li>Contiguity (queen, rook, bishop)</li>
<li>Some function of distance</li>
<li>Nearest neighbors (<em>knn</em>)</li>
<li>...</li>
</ul></li>
<li>In some contexts, additional <strong>requirements</strong>:
<ul>
<li><em>Exogeneity</em></li>
<li>Close match to theoretical framework</li>
<li>Empirically motivated reflection of actual interactions</li>
</ul></li>
</ul>
</section>
<section id="w-graphically" class="level2">
<h2>W graphically</h2>
<p>Example: rook contiguity</p>
<CENTER>
<img src="../figs/geo.png" alt="Drawing" style="width: 500px;"/>
</CENTER>

<p><br /><span class="math"> ↓ </span><br /></p>
</section>
<section id="section-2" class="level2">
<h2></h2>
<CENTER>
<img src="../figs/geo_w.png" alt="Drawing" style="width: 500px;"/>
</CENTER>

<ul>
<li>Diagonal of zeros by assumption</li>
<li>Gets large quickly</li>
<li>Fairly sparse</li>
</ul>
<p><span class="math"> → </span> GeoDaSpace demo with weights</p>
</section>
</section>
<section id="the-spatial-lag" class="level1">
<h1>The spatial lag</h1>
<p><br /><span class="math"><em>y</em><sub><em>s</em><em>l</em> − <em>i</em></sub> = ∑ <sub><em>j</em></sub><em>w</em><sub><em>i</em><em>j</em></sub><em>y</em><sub><em>j</em></sub></span><br /></p>
<p><br /><span class="math"><em>Y</em><sub><em>s</em><em>l</em></sub> = <em>W</em><em>Y</em></span><br /></p>
<section id="section-3" class="level2">
<h2></h2>
<ul>
<li>Measure that captures the behaviour of a variable in the neighborhood of a given observation <span class="math"><em>i</em></span>.</li>
<li>Similar to the time lag, but <strong>not</strong> completely (I am my neighbor's neighbor)</li>
<li>Typically standardized to reflect some sort of average, although not always, depends on purpose (e.g. market potential).</li>
</ul>
</section>
<section id="section-4" class="level2">
<h2></h2>
<ul>
<li>Common way to introduce space formally in a statistical framework</li>
<li><p>Heavily used in both ESDA and spatial regression to delineate neighborhoods. Examples:</p>
<ul>
<li>Moran's I</li>
<li>LISAs</li>
<li>Spatial models (lag, error...)</li>
</ul></li>
</ul>
</section>
</section>
<section id="exploratory-spatial-data-analysis" class="level1">
<h1>Exploratory Spatial Data Analysis</h1>
<ul>
<li>[<em>Exploratory</em>] Focus on discovery and assumption-free investigation</li>
<li>[<em>Spatial</em>] Analysis of patterns related to the spatial distribution of observations</li>
</ul>
<section id="section-5" class="level2">
<h2></h2>
</section>
<section id="section-6" class="level2">
<h2></h2>
<ul>
<li><p>Mapping</p>
<ul>
<li>Visual inspection of spatial distributions</li>
</ul></li>
<li><p>Global measures</p>
<ul>
<li>Study of <strong>clustering</strong> of values (e.g. Moran's I)</li>
</ul></li>
<li><p>Local measures</p>
<ul>
<li>Study of <strong>clusters</strong> of values (e.g. LISA statistics)</li>
</ul></li>
<li><p>Space-Time dynamics (ESTDA)</p>
<ul>
<li>Study of <strong>change</strong> in spatial patterns</li>
</ul></li>
</ul>
</section>
</section>
<section id="mapping" class="level1">
<h1>Mapping</h1>
<section id="section-7" class="level2">
<h2></h2>
</section>
<section id="choropleths" class="level2">
<h2>Choropleths</h2>
<ul>
<li><em>Thematic map in which values of a variable are encoded using a color gradient of some sort</em></li>
<li>Preliminar and very exploratory but super useful as a check</li>
<li>Many ways to classify (caution with that!)
<ul>
<li>Unique values (categorical)</li>
<li>Equal interval</li>
<li>Quantiles (equal count)</li>
<li>Fisher-Jenks</li>
<li>...</li>
</ul></li>
</ul>
</section>
<section id="choropleths-1" class="level2">
<h2>Choropleths</h2>
<CENTER>
<img src="../figs/choropleth.png" alt="Drawing" style="width: 500px;"/>
</CENTER>

</section>
<section id="cartograms" class="level2">
<h2>Cartograms</h2>
<ul>
<li><em>Thematic map in which values of a variable are displayed by distorting the shape of their locations</em></li>
<li>Useful, for instance, when observations greatly differ in the geographic size but want to visualize a different variable (e.g. employment)</li>
<li>Many approaches and algorithms, from transforming polygons into circles to very intricate polygon deformations</li>
</ul>
</section>
<section id="cartograms-1" class="level2">
<h2>Cartograms</h2>
<p><img src="../figs/cartogram.png" alt="Drawing" style="width: 500px;"/></p>
</section>
</section>
<section id="global-measures" class="level1">
<h1>Global measures</h1>
<section id="section-8" class="level2">
<h2></h2>
</section>
<section id="scatter-plot" class="level2">
<h2>Scatter plot</h2>
<ul>
<li>Visual device to explore spatial autocorrelation</li>
<li>Simple scatter cloud of:
<ul>
<li>[X axis] Variable of interest (<code>y</code>)</li>
<li>[Y axis] Spatial lag of <code>y</code></li>
</ul></li>
</ul>
<p>[Demo with notebook]</p>
</section>
<section id="morans-i-1948" class="level2">
<h2>Moran's I (1948)</h2>
<ul>
<li>Slope of the <strong>scatter plot</strong></li>
<li><strong>Summary</strong> of the <em>overall</em> spatial distribution</li>
</ul>
<span class="math"> </span>
<script type="math/tex; mode=display">
I = \dfrac{N} {\sum_{i} \sum_{j} w_{ij}} \dfrac {\sum_{i} \sum_{j}
w_{ij}(Z_i) (Z_j)} {\sum_{i} (Z_i)^2}
</script>
<p><span class="math"> </span></p>
<p>with <span class="math">$Z_i = X_i-\bar X$</span></p>
<p><strong>Note</strong>: first part goes away with row-standardized <span class="math"><em>W</em></span> and, in matrix notation:</p>
<script type="math/tex; mode=display">
I = \dfrac{ZWZ}{ZZ}
</script>


<p>Similar measure: Geary's C, Getis &amp; Ord</p>
</section>
</section>
<section id="local-measures" class="level1">
<h1>Local measures</h1>
<section id="section-9" class="level2">
<h2></h2>
</section>
<section id="section-10" class="level2">
<h2></h2>
<p>Local Moran's I (1996)</p>
<span class="math"> </span>
<script type="math/tex; mode=display">
I_i = \frac{Z_i}{m_2} \sum_j W_{ij} Z_j \; \; ; \; \;  m_2= \frac{\sum_i Z_i^2 }{N}
</script>

This makes <span class="math"><em>I</em><sub><em>i</em></sub></span> nicely additive into <span class="math"><em>I</em></span>:
<script type="math/tex; mode=display">
I= \sum_i \frac{I_i}{N} 
</script>
<p><span class="math"> </span></p>
<p>Similar measures: Local Geary's C, Local Getis &amp; Ord</p>
</section>
<section id="local-morans-i" class="level2">
<h2>Local Moran's I</h2>
<ul>
<li>Statistic to detect pockets of spatial instability</li>
<li>It does <em>not</em> summarize but <em>extends</em> the amount of insight from the data</li>
<li>Since it produces large outputs, it is usually visualized through maps:
<ul>
<li>Clusters</li>
<li>Significance</li>
</ul></li>
</ul>
</section>
</section>
<section id="section-11" class="level1">
<h1></h1>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Spatial Data, Analysis and Regression - A mini course</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://darribas.org" property="cc:attributionName" rel="cc:attributionURL">Dani Arribas-Bel</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
</section>
</div>
 
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>
 
<script>
  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: false,
    transition: 'linear',

        math: {
            // mathjax: 'http://cdn.mathjax.org/mathjax/latest/MathJax.js',
            config: 'TeX-AMS_HTML-full'
        },

  // available themes are in /css/theme
      theme: Reveal.getQueryHash().theme || 'journal', 
   
  // default/cube/page/concave/zoom/linear/fade/none
      transition: Reveal.getQueryHash().transition || 'linear',
   
  // Optional libraries used to extend on reveal.js
  dependencies: [
    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
    // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
    // { src: '../../lib/js/classList.js' },
    { src: 'plugin/math/math.js', async: true }
  ]
  });
 
</script>

</body>
</html>
